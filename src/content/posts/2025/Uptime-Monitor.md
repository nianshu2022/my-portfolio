---
title: "æˆ‘ç”¨ Cloudflare å…è´¹æ’¸äº†ä¸€ä¸ªé«˜é¢œå€¼çš„ç½‘ç«™ç›‘æŽ§ç³»ç»Ÿ"
date: "2025-11-23"
description: "åˆ©ç”¨ Cloudflare Workers + D1 + Pages å…¨å®¶æ¡¶ï¼Œæ‰‹æ“äº†ä¸€ä¸ªé›¶æˆæœ¬ã€é«˜é¢œå€¼ã€åŠŸèƒ½å…¨çš„ç›‘æŽ§ç³»ç»Ÿ â€”â€” Uptime Monitorã€‚æ”¯æŒ SSL è¯ä¹¦/åŸŸåè¿‡æœŸæé†’ + é’‰é’‰å‘Šè­¦ã€‚"
tags: ["Cloudflare", "Workers", "Vue3", "ç›‘æŽ§", "å¼€æº"]
---

> **å‰è¨€**ï¼šä½œä¸ºä¸€ä¸ªâ€œæ¾é¼ å…šâ€ç«™é•¿ï¼Œæ‰‹é‡Œæ€»æœ‰ä¸€å †åŸŸåå’Œåƒç°çš„å°é¸¡ï¼ˆæœåŠ¡å™¨ï¼‰ã€‚ç»å¸¸æ˜¯ç½‘ç«™æŒ‚äº†å‡ å¤©æ‰å‘çŽ°ï¼Œæˆ–è€… SSL è¯ä¹¦è¿‡æœŸäº†è¢«æµè§ˆå™¨æ‹¦æˆªï¼Œç”šè‡³åŸŸåå¿˜è®°ç»­è´¹è¢«æŠ¢æ³¨â€¦â€¦ ðŸ˜­
> å¸‚é¢ä¸Šçš„ Uptime Robot ç­‰æœåŠ¡ï¼Œå…è´¹ç‰ˆé™åˆ¶å¤šï¼Œé¢‘çŽ‡ä½Žï¼Œè€Œä¸” SSL/åŸŸåç›‘æŽ§é€šå¸¸æ˜¯æ”¶è´¹åŠŸèƒ½ã€‚
>
> äºŽæ˜¯ï¼Œæˆ‘åˆ©ç”¨ **Cloudflare Workers + D1 + Pages** å…¨å®¶æ¡¶ï¼Œæ‰‹æ“äº†ä¸€ä¸ª **é›¶æˆæœ¬ã€é«˜é¢œå€¼ã€åŠŸèƒ½å…¨** çš„ç›‘æŽ§ç³»ç»Ÿ â€”â€” **Uptime Monitor**ã€‚

---

## âœ¨ é¢„è§ˆæ•ˆæžœ

å…ˆçœ‹æˆå“ï¼Œé¢œå€¼å³æ­£ä¹‰ï¼ðŸ˜Ž

### ðŸ“± ç§»åŠ¨ç«¯ & æ¡Œé¢ç«¯ (æ·±è‰²æ¨¡å¼)

![](/img/Uptime-Monitor-pc.png?width=700px&shadow=true) ![](/img/Uptime-Monitor-app.png?width=300px&shadow=true)

*æ¼”ç¤ºåœ°å€ï¼š[https://uptime.nianshu2022.cn](https://uptime.nianshu2022.cn)*

### ðŸ”” é’‰é’‰å‘Šè­¦ (Markdown æ ¼å¼)

![](/img/Uptime-Monitor-down.png?width=300px&shadow=true)

*å‘Šè­¦ä¿¡æ¯åŒ…å«ï¼šçŠ¶æ€ç ã€è€—æ—¶ã€å¤±è´¥åŽŸå› ï¼Œä¸€ç›®äº†ç„¶ã€‚*

### ðŸ’» ç®¡ç†åŽå° (Dashboard)

![](/img/Uptime-Monitor-admin.png?width=700px&shadow=true)

*å®‰å…¨ã€ç®€æ´ã€å¥½ç”¨ã€‚*

---

## ðŸ› ï¸ ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ

1.  **ðŸ’° å®Œå…¨å…è´¹**ï¼šåˆ©ç”¨ Cloudflare å¼ºå¤§çš„å…è´¹é¢åº¦ï¼ˆWorkers æ¯å¤© 10ä¸‡æ¬¡è¯·æ±‚ï¼ŒD1 æ•°æ®åº“å…è´¹è¯»å†™ï¼‰ï¼Œå¯¹äºŽä¸ªäººç›‘æŽ§å‡ åä¸ªç½‘ç«™ç»°ç»°æœ‰ä½™ã€‚
2.  **ðŸŒ å…¨çƒèŠ‚ç‚¹**ï¼šCloudflare çš„è¾¹ç¼˜ç½‘ç»œå¤©ç„¶é€‚åˆåšç›‘æŽ§ï¼Œç½‘ç»œè¿žé€šæ€§å¥½ã€‚
3.  **ðŸ”’ å…¨èƒ½ç›‘æŽ§**ï¼š
    *   **HTTP/HTTPS é€šæ–­æ£€æµ‹** (æ”¯æŒè‡ªå®šä¹‰ Status Code åˆ¤æ–­)
    *   **SSL è¯ä¹¦æœ‰æ•ˆæœŸæ£€æµ‹** (æ¯æ—¥è‡ªåŠ¨æ£€æŸ¥ï¼Œæ”¯æŒæ³›åŸŸåè¯ä¹¦ï¼)
    *   **åŸŸåæ³¨å†Œè¿‡æœŸæ£€æµ‹** (é˜²æ­¢åŸŸåç”±äºŽå¥å¿˜è¢«å›žæ”¶)
4.  **ðŸ¤– çµæ´»å‘Šè­¦**ï¼šç›®å‰æŽ¥å…¥äº† **é’‰é’‰ç¾¤æœºå™¨äºº**ï¼Œæ”¯æŒ **Markdown** æ ¼å¼ï¼Œä¸ä»…å‘Šè¯‰ä½ æŒ‚äº†ï¼Œè¿˜å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆæŒ‚äº†ï¼ˆè¶…æ—¶/500/è¯ä¹¦è¿‡æœŸï¼‰ã€‚
5.  **ðŸŽ¨ çŽ°ä»£åŒ– UI**ï¼šVue 3 + TailwindCSS æ‰“é€ ï¼Œæ”¯æŒ **Dark Mode**ï¼Œæ‰‹æœºç«¯é€‚é…å®Œç¾Žï¼Œè¿™ä¸æ¯” Uptime Robot çš„é»˜è®¤é¡µå¥½çœ‹ï¼Ÿ

---

## âš™ï¸ æŠ€æœ¯æ ˆä¸€è§ˆ

*   **åŽç«¯ Runtime**: Cloudflare Workers (åŸºäºŽ Hono æ¡†æž¶ï¼Œè½»é‡æžé€Ÿ)
*   **æ•°æ®åº“**: Cloudflare D1 (åŸºäºŽ SQLite çš„è¾¹ç¼˜æ•°æ®åº“ï¼Œå­˜å‚¨ç›‘æŽ§é…ç½®å’Œæ—¥å¿—)
*   **å‰ç«¯æ‰˜ç®¡**: Cloudflare Pages (æžé€Ÿé™æ€èµ„æºåˆ†å‘)
*   **å‰ç«¯æ¡†æž¶**: Vue 3 (CDN å¼•å…¥ï¼Œæ— æž„å»ºçƒ¦æ¼) + TailwindCSS

---

## ðŸš€ æ€Žä¹ˆéƒ¨ç½²ï¼Ÿ(ä¿å§†çº§æ•™ç¨‹)

é¡¹ç›®å·²å¼€æºï¼Œæ¬¢è¿Ž Star â­ï¼š
ðŸ‘‰ **GitHub**: [https://github.com/nianshu2022/Uptime-Monitor](https://github.com/nianshu2022/Uptime-Monitor)

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡å·¥ä½œ
ä½ éœ€è¦ä¸€ä¸ª Cloudflare è´¦å·ï¼Œå¹¶åœ¨æœ¬åœ°å®‰è£…å¥½ `Node.js` å’Œ `Wrangler CLI`ã€‚

### ç¬¬äºŒæ­¥ï¼šå…‹éš†ä»£ç  & åˆå§‹åŒ–æ•°æ®åº“
```bash
git clone https://github.com/nianshu2022/Uptime-Monitor.git
cd uptime

# ç™»å½• Cloudflare
npx wrangler login

# åˆ›å»ºæ•°æ®åº“
npx wrangler d1 create uptime-db
# (è®°ä¸‹æŽ§åˆ¶å°è¿”å›žçš„ database_id)
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®åŽç«¯
ä¿®æ”¹ `worker/wrangler.toml`ï¼Œå¡«å…¥ä½ çš„ `database_id`ã€‚

ç„¶åŽåˆå§‹åŒ–è¡¨ç»“æž„ï¼š
```bash
cd worker
npx wrangler d1 execute uptime-db --remote --file=schema.sql
# æ‰§è¡Œè¿ç§»è„šæœ¬
npx wrangler d1 execute uptime-db --remote --file=migration_add_expiry.sql
npx wrangler d1 execute uptime-db --remote --file=migration_add_ua.sql
```

### ç¬¬å››æ­¥ï¼šéƒ¨ç½²åŽç«¯
ä½ éœ€è¦å…ˆåŽ»é’‰é’‰ç¾¤è®¾ç½®ä¸€ä¸ªæœºå™¨äººï¼ŒèŽ·å– `Access Token` å’Œ `Secret`ã€‚
```bash
# éƒ¨ç½²åˆ° Cloudflare
npx wrangler deploy
```
*(å»ºè®®åœ¨ Cloudflare Dashboard åŽå°é…ç½®é’‰é’‰ Token çŽ¯å¢ƒå˜é‡ï¼Œæ›´å®‰å…¨)*

### ç¬¬äº”æ­¥ï¼šéƒ¨ç½²å‰ç«¯
ä¿®æ”¹ `frontend/index.html` é‡Œçš„ `API_BASE` ä¸ºä½ çš„ Worker åœ°å€ï¼ˆå¼ºçƒˆå»ºè®®ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼Œé˜²å¢™ï¼‰ã€‚

```bash
cd frontend
npx wrangler pages deploy . --project-name uptime-monitor
```

**æžå®šï¼ðŸŽ‰**

---

## ðŸ“ å†™åœ¨æœ€åŽ

è¿™ä¸ªé¡¹ç›®æœ€åˆåªæ˜¯ä¸ºäº†è§£å†³æˆ‘è‡ªå·±çš„ç—›ç‚¹ï¼Œæ²¡æƒ³åˆ°åšç€åšç€åŠŸèƒ½è¶Šæ¥è¶Šå…¨ã€‚
å¦‚æžœä½ ä¹Ÿæœ‰æœåŠ¡å™¨ã€åŸŸåéœ€è¦ç›‘æŽ§ï¼Œæˆ–è€…æƒ³å­¦ä¹  Cloudflare Workers å¼€å‘ï¼Œæ¬¢è¿Žæ¥çŽ©ï¼

å¦‚æžœæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿Žæ Issue æˆ– PRã€‚
**åˆ«å¿˜äº†ç»™ä¸ª Star â­ï¸ é¼“åŠ±ä¸€ä¸‹ä½œè€…å“¦ï¼**

> **GitHub**: https://github.com/nianshu2022/Uptime-Monitor
> 
> **Blog**: https://blog.nianshu2022.cn

