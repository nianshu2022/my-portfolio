# å¿µèˆ’çš„æ•°å­—èŠ±å›­

> 00åäº§å“è¿è¥çš„ä¸ªäººåšå®¢ä¸æ•°å­—èŠ±å›­ï¼ŒåŸºäº Next.js æ„å»ºã€‚åˆ†äº«æŠ€æœ¯æŠ˜è…¾ç¬”è®°ã€è¿è¥å¿ƒå¾—ä¸ç”Ÿæ´»éšç¬”ã€‚

ğŸŒ **åœ¨çº¿è®¿é—®**: [https://blog.nianshu2022.cn](https://blog.nianshu2022.cn)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“ å†…å®¹ç®¡ç†
- **æŠ€æœ¯åšå®¢**ï¼šåˆ†äº«æŠ€æœ¯æŠ˜è…¾ç¬”è®°ã€å¼€æºé¡¹ç›®ã€éƒ¨ç½²æ•™ç¨‹ç­‰
- **ç”Ÿæ´»éšç¬”**ï¼šè®°å½•ç”Ÿæ´»æ„Ÿæ‚Ÿã€æˆé•¿ç»å†
- **Markdown æ”¯æŒ**ï¼šå®Œæ•´çš„ Markdown æ¸²æŸ“ï¼Œæ”¯æŒä»£ç é«˜äº®ã€è¡¨æ ¼ã€å›¾ç‰‡ç­‰
- **æ ‡ç­¾åˆ†ç±»**ï¼šæŒ‰æ ‡ç­¾ç­›é€‰æ–‡ç« ï¼Œå¿«é€Ÿæ‰¾åˆ°æ„Ÿå…´è¶£çš„å†…å®¹
- **ç›®å½•å¯¼èˆª**ï¼šæ–‡ç« è‡ªåŠ¨ç”Ÿæˆç›®å½•ï¼Œæ”¯æŒæ»šåŠ¨é«˜äº®å®šä½

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é… PCã€å¹³æ¿ã€æ‰‹æœºç­‰è®¾å¤‡
- **æš—é»‘æ¨¡å¼**ï¼šæ”¯æŒç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢å’Œæ‰‹åŠ¨åˆ‡æ¢
- **å¹³æ»‘æ»šåŠ¨**ï¼šä¼˜é›…çš„é¡µé¢æ»šåŠ¨åŠ¨ç”»
- **æ»šåŠ¨è®°å¿†**ï¼šåˆ—è¡¨é¡µè®°ä½æ»šåŠ¨ä½ç½®ï¼Œè¿”å›æ—¶è‡ªåŠ¨æ¢å¤
- **é˜…è¯»è¿›åº¦**ï¼šæ–‡ç« é˜…è¯»è¿›åº¦æ¡æ˜¾ç¤º
- **è¿”å›é¡¶éƒ¨**ï¼šå¿«é€Ÿè¿”å›é¡µé¢é¡¶éƒ¨

### ğŸ”§ æŠ€æœ¯äº®ç‚¹
- **Next.js 16**ï¼šä½¿ç”¨æœ€æ–°çš„ App Router å’Œ Turbopack
- **TypeScript**ï¼šå®Œæ•´çš„ç±»å‹å®‰å…¨
- **Tailwind CSS**ï¼šç°ä»£åŒ–çš„æ ·å¼æ–¹æ¡ˆ
- **é™æ€ç”Ÿæˆ**ï¼šæ‰€æœ‰é¡µé¢é¢„æ¸²æŸ“ï¼Œæé€ŸåŠ è½½
- **SEO ä¼˜åŒ–**ï¼šå®Œæ•´çš„å…ƒæ•°æ®é…ç½®ï¼Œæ”¯æŒ Open Graph å’Œ Twitter Card

### ğŸ’¬ äº’åŠ¨åŠŸèƒ½
- **Giscus è¯„è®º**ï¼šåŸºäº GitHub Discussions çš„è¯„è®ºç³»ç»Ÿ
- **è®¿é—®ç»Ÿè®¡**ï¼šä¸è’œå­ç»Ÿè®¡è®¿é—®é‡

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [Next.js 16.0.3](https://nextjs.org/) (App Router + Turbopack)
- **è¯­è¨€**: TypeScript 5
- **æ ·å¼**: [Tailwind CSS 4](https://tailwindcss.com/)
- **UI ç»„ä»¶**: [Radix UI](https://www.radix-ui.com/) + [Lucide Icons](https://lucide.dev/)
- **å†…å®¹æ¸²æŸ“**: 
  - `react-markdown` - Markdown æ¸²æŸ“
  - `remark-gfm` - GitHub Flavored Markdown æ”¯æŒ
  - `rehype-slug` - è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜é”šç‚¹
- **å†…å®¹å¤„ç†**:
  - `gray-matter` - Frontmatter è§£æ
  - `reading-time` - é˜…è¯»æ—¶é—´è®¡ç®—
  - `github-slugger` - Slug ç”Ÿæˆ
- **è¯„è®ºç³»ç»Ÿ**: [Giscus](https://giscus.app/)
- **éƒ¨ç½²**: [Cloudflare Pages](https://pages.cloudflare.com/)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
my-portfolio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ about/              # å…³äºæˆ‘é¡µé¢
â”‚   â”‚   â”œâ”€â”€ blog/               # æŠ€æœ¯åšå®¢
â”‚   â”‚   â”‚   â”œâ”€â”€ [slug]/         # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # åšå®¢åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ essays/             # ç”Ÿæ´»éšç¬”
â”‚   â”‚   â”‚   â”œâ”€â”€ [slug]/         # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # éšç¬”åˆ—è¡¨é¡µ
â”‚   â”‚   â”œâ”€â”€ portal/             # æœåŠ¡å¯¼èˆªé¡µ
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx            # é¦–é¡µ
â”‚   â”œâ”€â”€ components/             # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ BlogList.tsx        # åšå®¢åˆ—è¡¨ç»„ä»¶ï¼ˆæ”¯æŒæ ‡ç­¾ç­›é€‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ FloatingNav.tsx    # æµ®åŠ¨å¯¼èˆªæŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ TableOfContents.tsx # ç›®å½•ç»„ä»¶ï¼ˆæ»šåŠ¨é«˜äº®ï¼‰
â”‚   â”‚   â”œâ”€â”€ ScrollToTop.tsx     # è¿”å›é¡¶éƒ¨æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ ScrollMemory.tsx   # æ»šåŠ¨ä½ç½®è®°å¿†
â”‚   â”‚   â”œâ”€â”€ Comments.tsx        # è¯„è®ºç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/                # UI åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ content/               # å†…å®¹æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ posts/             # æŠ€æœ¯åšå®¢æ–‡ç« ï¼ˆæŒ‰å¹´ä»½ç»„ç»‡ï¼‰
â”‚   â”‚   â””â”€â”€ essays/            # ç”Ÿæ´»éšç¬”æ–‡ç« 
â”‚   â””â”€â”€ lib/                   # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ posts.ts           # æ–‡ç« è¯»å–å’Œå¤„ç†
â”‚       â””â”€â”€ utils.ts           # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â””â”€â”€ package.json
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+ 
- npm / yarn / pnpm / bun

### å®‰è£…ä¾èµ–

```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

### å¼€å‘è¿è¡Œ

```bash
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹æ•ˆæœã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

---

## ğŸ“ æ·»åŠ æ–‡ç« 

### æŠ€æœ¯åšå®¢

åœ¨ `src/content/posts/` ç›®å½•ä¸‹åˆ›å»º Markdown æ–‡ä»¶ï¼ˆå¯æŒ‰å¹´ä»½ç»„ç»‡åˆ°å­æ–‡ä»¶å¤¹ï¼‰ï¼š

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: "2025-01-01"
description: "æ–‡ç« æè¿°"
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
cover: "/img/cover.jpg"  # å¯é€‰ï¼šå°é¢å›¾
award: "ğŸ† è·å¥–ä¿¡æ¯"      # å¯é€‰ï¼šè·å¥–ä¿¡æ¯
---

æ–‡ç« å†…å®¹...
```

### ç”Ÿæ´»éšç¬”

åœ¨ `src/content/essays/` ç›®å½•ä¸‹åˆ›å»º Markdown æ–‡ä»¶ï¼Œæ ¼å¼åŒä¸Šã€‚

### å›¾ç‰‡ä½¿ç”¨

- å°†å›¾ç‰‡æ”¾åœ¨ `public/img/` ç›®å½•
- åœ¨ Markdown ä¸­ä½¿ç”¨ï¼š`![](/img/image.png)`
- æ”¯æŒ URL å‚æ•°ï¼š
  - `?width=400px` - è®¾ç½®å›¾ç‰‡å®½åº¦
  - `?shadow=true` - æ·»åŠ é˜´å½±æ•ˆæœ

---

## ğŸŒ éƒ¨ç½²

### Cloudflare Pages

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Cloudflare Pages ä¸­è¿æ¥ä»“åº“
3. æ„å»ºé…ç½®ï¼š
   - **æ„å»ºå‘½ä»¤**: `npm run build`
   - **æ„å»ºè¾“å‡ºç›®å½•**: `.next`
   - **Node.js ç‰ˆæœ¬**: 18 æˆ–æ›´é«˜

### ç¯å¢ƒå˜é‡ï¼ˆå¦‚éœ€è¦ï¼‰

å¦‚éœ€ä½¿ç”¨ Giscus è¯„è®ºï¼Œåœ¨ Cloudflare Pages è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

- `NEXT_PUBLIC_GISCUS_REPO` - GitHub ä»“åº“ï¼ˆæ ¼å¼ï¼š`owner/repo`ï¼‰
- `NEXT_PUBLIC_GISCUS_REPO_ID` - Repository ID
- `NEXT_PUBLIC_GISCUS_CATEGORY_ID` - Category ID

---

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç½‘ç«™ä¿¡æ¯

ç¼–è¾‘ `src/app/layout.tsx` ä¸­çš„ `metadata` å¯¹è±¡ï¼š

```typescript
export const metadata: Metadata = {
  metadataBase: new URL('https://blog.nianshu2022.cn'),
  title: {
    default: "ä½ çš„ç½‘ç«™æ ‡é¢˜",
    template: "%s | ä½ çš„åå­—",
  },
  description: "ç½‘ç«™æè¿°",
  // ...
};
```

### ä¿®æ”¹é¦–é¡µå†…å®¹

ç¼–è¾‘ `src/app/page.tsx`

### ä¿®æ”¹æ ·å¼

- å…¨å±€æ ·å¼ï¼š`src/app/globals.css`
- Tailwind é…ç½®ï¼š`tailwind.config.ts`

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºä¸ªäººé¡¹ç›®ï¼Œä»£ç ä»…ä¾›å­¦ä¹ å‚è€ƒã€‚

---

## ğŸ‘¤ ä½œè€…

**å¿µèˆ’**

- ç½‘ç«™: [https://blog.nianshu2022.cn](https://blog.nianshu2022.cn)
- GitHub: [@your-username](https://github.com/your-username)

---

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Lucide](https://lucide.dev/) - ç²¾ç¾çš„å›¾æ ‡åº“
- [Giscus](https://giscus.app/) - åŸºäº GitHub Discussions çš„è¯„è®ºç³»ç»Ÿ
- [Cloudflare](https://www.cloudflare.com/) - å…è´¹çš„ CDN å’Œ Pages æ‰˜ç®¡

---

## ğŸ“ˆ æ›´æ–°æ—¥å¿—

### v0.1.0 (2025-01)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ æŠ€æœ¯åšå®¢å’Œç”Ÿæ´»éšç¬”åŠŸèƒ½
- âœ¨ æ ‡ç­¾åˆ†ç±»å’Œç­›é€‰
- âœ¨ ç›®å½•å¯¼èˆªå’Œæ»šåŠ¨é«˜äº®
- âœ¨ å“åº”å¼è®¾è®¡å’Œæš—é»‘æ¨¡å¼
- âœ¨ Giscus è¯„è®ºé›†æˆ
- âœ¨ æ»šåŠ¨ä½ç½®è®°å¿†
- âœ¨ æœåŠ¡å¯¼èˆªé¡µé¢

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Starï¼
